<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Invoice #{{ transaction_id }}</title>
  <style>
    body { font-family: Arial, Helvetica, sans-serif; margin: 24px; color: #222; }
    header { margin-bottom: 20px; }
    .clinic { font-size: 18px; font-weight: bold; }
    .muted { color: #666; font-size: 0.95em; }
    table { width: 100%; border-collapse: collapse; margin-top: 12px; }
    th, td { padding: 8px 10px; border: 1px solid #ddd; }
    th { background: #f6f6f6; text-align: left; }
    .right { text-align: right; }
    tfoot td { font-weight: bold; }
    .small { font-size: 0.9em; color: #444; }
    .actions { margin-top: 16px; }
  </style>
</head>
<body>
  <a href="{% url 'dashboard' %}">← Go back</a>
  <header>
    <div class="clinic">{{ pharmacy.name }}</div>
    <div class="muted">{{ pharmacy.address }} • {{ pharmacy.contact }}</div>
  </header>

  <section>
    <h2>Invoice #{{ transaction_id }}</h2>
    <p class="small"><strong>Date:</strong> {{ date }}<br>
      <strong>Pharmacist:</strong> {{ pharmacist.username }}</p>
    {% if customer %}
      <p class="small"><strong>Customer:</strong> {{ customer }}</p>
    {% endif %}
  </section>

  <section>
    <table>
      <thead>
        <tr>
          <th>Medicine</th>
          <th>Batch</th>
          <th class="right">Quantity</th>
          <th class="right">Unit price</th>
          <th class="right">Total</th>
        </tr>
      </thead>
      <tbody>
        {% for item in items %}
        <tr>
          <td>{{ item.medicine_name }}</td>
          <td>{{ item.batch }}</td>
          <td class="right">{{ item.quantity }}</td>
          <td class="right">{{ item.unit_price }}</td>
          <td class="right">{{ item.line_total }}</td>
        </tr>
        {% endfor %}
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4" class="right">Subtotal</td>
          <td class="right">{{ subtotal }}</td>
        </tr>
        <tr>
          <td colspan="4" class="right">Discount</td>
          <td class="right">{{ discount }}</td>
        </tr>
        <tr>
          <td colspan="4" class="right">Total</td>
          <td class="right">{{ total }}</td>
        </tr>
      </tfoot>
    </table>
  </section>



  <footer style="margin-top:20px;">
    <p class="small">This is a view-only invoice. For printing, use the print/export feature (not implemented).</p>
  </footer>
</body>
</html>
